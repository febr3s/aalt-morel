# Pendiente

- Configurar un display para libros sin portada y un llamado a la acción para añadirla
- agregar chriteria de idioma, genre, nacionalidad y dominio público
- sustituir avatar de chriterias

March 6
# Tercer commit

- Hice un workarond del que estoy muy orgulloso para emular con Liquid la norma de url human readable que se autogeneran con python
- Cuadré bien el background
- Generé todas las páginas

March 7
- Resolví el tema de los line break en los poemas
- Comencé la agregación de los nuevos libros que mandó Carlos

March 9

iniciada la adaptación a Zotero. listo sin links el enderezamiento de los loop de autores por obra


La razón por la que no muestra los libros del autor era lo del espacio, pero es necesario el woraround de todas maneras para hacer como condición que contains una variable

Recuperando este code snipet de filtrar por variable empty `download is {% if book.download == "" or book.download == nil %}blank{% else %}"{{ book.download }}"{% endif %}`

March 15

- Book pages generator script updated to work with Zotero csv (pendientes the other page generators)
- Added a script to be able to use the two-word columns
- Added a script to automatically copy the cover image from Zotero to the repository folder, and rename it with the slugized book info
- Updated the includes, and created a book-list-base

March 17

- Enderezar nombres de autores en book-list-base (done)
- Generar los nombres correctos de imagen y de url en book-list-metadata (done)
- Ajustado el script de copia de images a los actual columns and folders

March 18

- Adjust the image file name (done)
- Adjust the metadata fields (done)
- Adjust background (done)

March 19

- Adjust the fields in the book layout (done)
	- Incluir en los renamed fields Library Catalog > Library, Url > Download (done)

March 21

- Adjust the remaining scripts
	- Author variation (done)
	- Guardar en carpeta aparte (done)
	
	- Add conditionals to not create empty files (done)
- Add links to book layout metadata (done)
- Acomodar layout de autores (done)
- Acomodar include de relacionados (done)
- Generar title correcto en authors page (done)
- Generar nombres de archivo more unique (done)

March 23
- Actualizar nombre de data file en layouts (done)
- Actualizar nombre de data file (done)
- Layout editorial (done)
- Tratando de arreglar el bug de los fields en el csv, probablemente porque se corre de last el script de cambio de nombre de columna (done, es un paso adicional al importar a libre office, que es eliminar semicolon como separador)
- Layout ciudad (done)
- Layout y metadata repositorio (done) 
- Restrict the authors to four (done, actually three)
- Arreglar el link en la portada del libro en el layout de book (done)
- Incorporar extracto en autogeneración de páginas (done)

April 10

Los autores con pseudónimo de una sola palabra deben nombrarse como si ese fuera un apellido y el nombre de pila fuera su nombre completo. Si no, no sirven los array de apellido.

Un buen rato tratando de sustituir el abre-cierra de libreoffice por un script. Finalmente lo conseguí con una combinación del paquete clevercsv y el módulo os. Desde la línea de comandos, se usa como `standardize clevercsv [output] [input]`

No pueden haber ciertos caracteres en el título hasta nuevo aviso (el & enchava la parte en Memoria y resistencia)

Habría que sumar un find and replace para poner las guillemets, poniendo en zotero <<>>. 

# Futuro
- Script para copiar pdf
- Script para upload a Archive
- Activar pages de Date
- Crear plantilla nueva y traducir
- Hacer un workaound para los distintos tipos de archivo (epub, txt)
- Acomodar repositorio a múltiples valores
- Configurar para que dé error si no están todos los campos bien
- Add elipsis for books with more than three authors
- Hacer script que borre el double quote del csv
- Script para optimizar pdf's
- Script para seleccionar condicionalmente el short title
- Layout para ediciones bilingües
- Layout para libros sin portada
- Autoactualización de archivo Zotero
- Script para chequear que todos los archivos adjuntos son procesables
- ¿Habrá una forma de diferenciar cuando Extra se refiere a la nacionalidad de los autores y cuando se refiere a la nacionalidad de los traductores?
- Crear un script para identificar si hay traducciones disponibles de una obra o no
- Banderita en el book layout, con link a libros publicados en ese país
- Agregar idioma a la nomenclatura del archivo md
- Condicionar que haya link en la metadata solo si hay más de uno
- Perfeccionar lo del título corto
- Perfeccionar lo de primera edición
- Agregar opción de flipbook para pantallas medianas a grandes
- Agregar ilustraciones en un slideshow junto a la portada, quizá con una flechita opcional que se ilumine
- Hay que agregar un boolean para identificar registros como traducciones o no
- Poner que el lugar sea opcional en el render de la ficha del libro
- Para encontrar un error: ponerlo por orden de date added, buscar el último procesado, el siguiente es el del error. Recuerda siempre actualizar el archivo.
- Los scripts deberían detectar si hay algo con doble signo de interrogación
- También deben detectar si hay algún png coleado
- Detectar si hay espaciado doble (  ) o punto pegado de espacio, porque eso va a confundir las convenciones de nombre
- Detectar si hay algún link con un proxi

# Corto plazo

- Generar las páginas con listas dinámicas
 - las existentes LISTO
- Quitar links a biblioteca que tengan proxi

 # Mediano plazo

- Generar las páginas con listas dinámicas
 - por idioma
 - por nacionalidad de le escritore
 - por año de edición
- Listas del index
 - portugués
 - español
 - inglés
- Crear nuevo theme a partir de modificaciones al original para la construcción de EsAT
- Agregar link externo al repositorio
- Encontrar una manera de no mostrar los autores que se crearon por error LISTO


5/17

- Corregir el slugize cuando el título tiene signo de igual o signo de dos puntos LISTO

Una muy divertida aventura tratando de descifrar cómo remover más de un caracter con el filtro remove. Llegué a un end road porque python y ruby filtran distinto, y no encontré workaround para permitir títulos con signo de igual y dos puntos, porque el array del título que uso para replicar la regla de naming se altera. La solución provisional es no usar dos puntos combinados con signo de igual. Y a mediano-largo plazo comenzar la transición de Python a Ruby para generar los archivos .md a partir del csv, etcétera. Son ocho scripts así que no creo que sea mortal.

Update: Resulta que todo el peo era de espaciado. Volví al approach de quitar los dos puntos y los signos de igual, aunque no sé por qué en otros libros eso no da problema.

Igual todo eso se evita si las convenciones de nombre dan el mismo resultado al generar los archivos y al generar los links.

- Corregir el glitchito del lugar de publicación en el rollover de los libros LISTO
- Preseleccioné otra trama más decente
- Voy a dejar en stand-by lo de obras por categoría en el index
- Probar versión en producción LISTO

5/18

- Resulta que el misterio de las obras por categoría era que estaba editando el theme, que si no lo actualizo no afecta al clone... Ya quedaron los links bellos LISTO

- Nota que todo lo que en el theme dentro de colecciones (folders con prefijo `_` en la carpeta `copy content to main folder`) no se copia como md sino como html.

Entonces no puedo intervenir el theme copiando un include o un layout, a menos que... sí, solo tenía que reemplazar el html por un md y después traerme el layout y los includes correspondientes.

- Agregar botón de descarga al rollover LISTO

- Generar las páginas con listas dinámicas LISTO
 - Autor CASI LISTO (falta el link al libro para dispositivos móviles)
    - LISTO (en el futuro mosca con las variables repetidas)
 - Ciudad CASI LISTO (hay que resolver lo de las páginas vacías)
    -  LISTO
 - Año de edición LISTO
 - Imprenta o editorial LISTO
 - Repositorio LISTO

- Generar las listas del index
 - Últimas traducciones publicadas LISTO
 - descargables LISTO

- Actualizar layout de página de todas las obras LISTO

- Hay que pensar una forma de corregir los criterios vacíos... o al menos no mostrarlos
    - Se crea un array con el criterio correspondiente, y se usa el filtro `contains` para excluir los que no. Para borrar esas paginitas sería la operación contraria y proceder manualmente hasta que encuentre un script para hacerlo.
    - Para crear un array a partir de un for loop hay que crear la variable vacía y después redefinir la variable en cada loop con push

- Pomodoros

...

...

...

...

.

5/19

...
...



- Me puse al día con los correos y con los libros de la biblioteca. 

 Generar las listas del index
 - Últimas traducciones publicadas LISTO
 - descargables LISTO
 - no descargables LISTO

 - Actualizadas páginas de búsqueda y de about. Para about hay que editar la página .md y ver cómo se combina con el recuadro de promoción que está al final de cada página. 
   - Primero tuve que hacer un workaround, del que estoy muy orgulloso, para tener en la carpeta principal un archivo .md que se llama site-description, que cuando se construye el site se copia como html a la carpeta _site, y que con un script se copia a su vez a la carpeta _includes, y es llamada por el layout _about, para finalmente ser llamada por el about.md, que está en el home